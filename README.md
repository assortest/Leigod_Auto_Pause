**基于 Electron 的雷神加速器（Leigod）增强插件**

## 📌 软件核心功能简述

```
基于 Electron 的雷神加速器的增强插件用于，自动监控游戏进程状态，自动暂停加速，帮你省下每一分加速时间！
```
### 🧠 游戏进程监控

* 在用户通过雷神加速器启动某个游戏后，自动从雷神的 IndexedDB 中读取该游戏的 ​可执行进程名(`game_process`)​。（注意：部分游戏（如《**战地6**》）在雷神数据库中 `game_process` 为空，将无法被监控。）
* 实时监控这些进程是否正在运行：
  * 如果游戏正在运行 → 进入 ​**活跃监控状态（Active Monitoring**​，每 10 秒检查一次。
  * 如果游戏退出 → 进入 ​**10 分钟宽限期（Grace Period)**​。
* 游戏退出后，给予用户 ​**10 分钟缓冲时间**​（例如：切换账号、重启游戏等）。
* 在宽限期内：
  * 每 5 秒检查一次游戏是否重新启动
  * 若游戏重新启动 → 立即恢复活跃监控，继续加速。
  * 若 10 分钟内未启动 → 自动调用雷神的 `pause-user-time` 和 `stop-acc` 接口，​**停止计费**​，避免浪费加速时长。

### 退出保护

当你点击关闭雷神主窗口时：

- 插件会 **拦截关闭事件**，不会立即退出程序。
- 首先尝试调用 `pause-user-time` 暂停加速。
- 无论是否成功，最终都会 **强制退出应用**，确保不会因意外关闭导致后台继续计费。

### 实现原理
  * 通过 ​**拦截 Electron 的 IPC 通信**​（`ipcMain.handle`）实现功能增强：
  * 拦截 `leigod-simplify-start-acc`：启动监控。
  * 拦截 `leigod-simplify-stop-acc` / `pause-user-time`：停止监控。
  * 不修改雷神官方代码，仅作为“外挂式”增强模块加载。

### 使用说明

1. **自行打包替换（推荐给开发者）**
   
   - 修改雷神的启动入口，注入本插件逻辑。
   - 重新打包为 `app.asar` 并替换原文件。
   - 需具备 Electron 应用逆向与打包能力。
2. **直接下载预打包版本（普通用户）**
   
   - 我会不定期在 （[Releases](https://github.com/assortest/Leigod_Auto_Pause)) 发布适配不同雷神版本的 `app.asar`。
   - **版本号对应雷神加速器的官方版本号**（如 `11.0.0.0`）。
    
   - 下载后替换雷神目录下面的resources文件夹即可使用。


